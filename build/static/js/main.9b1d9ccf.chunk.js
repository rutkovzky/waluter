(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{45:function(e,c,t){},46:function(e,c,t){},49:function(e,c,t){},50:function(e,c,t){},70:function(e,c,t){},71:function(e,c,t){},72:function(e,c,t){"use strict";t.r(c);var n=t(0),r=t(16),a=t.n(r),s=t(6),i=t(11),o=t(35),u=t(36),l="CURRENCIES_LIST_REQUEST",j="CURRENCIES_LIST_SUCCESS",d="CURRENCIES_LIST_FAIL",b="FAVOURITE_ADDED",p="FAVOURITE_REMOVED",h="FAVORITES_ALL_REMOVED",O=Object(i.combineReducers)({currenciesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currencies:[]},c=arguments.length>1?arguments[1]:void 0;switch(c.type){case l:return{loading:!0,currencies:[]};case j:return{loading:!1,currencies:c.payload};case d:return{loading:!1,error:c.payload};default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],c=arguments.length>1?arguments[1]:void 0;switch(c.type){case b:return e.find((function(e){return e.code===c.payload.code}))?e:e.concat(c.payload);case p:return e.filter((function(e){return e.code!==c.payload.code}));case h:return[];default:return e}}}),f=[o.a],x=Object(i.createStore)(O,{},Object(u.composeWithDevTools)(i.applyMiddleware.apply(void 0,f))),m=(t(45),t(46),t(13)),y=t(3),v=t(1),g=function(){return Object(v.jsxs)("header",{children:[Object(v.jsx)(m.b,{to:"/",children:Object(v.jsx)("h1",{children:"Waluter"})}),Object(v.jsxs)("ul",{children:[Object(v.jsxs)(m.b,{to:"/favorites",children:[Object(v.jsx)("i",{style:{color:"#F45B69"},className:"fas fa-heart"})," Ulubione"]}),Object(v.jsxs)(m.b,{to:"/info",children:[Object(v.jsx)("i",{style:{color:"#FFDF64"},className:"fas fa-info-circle"})," Info"]})]})]})},N=t(10),w=(t(49),t(50),t(15)),C=t.n(w),k=t(23),E=t(24),S=t.n(E),F=function(e,c,t){return{type:p,payload:{name:e,code:c,mid:t}}},L=function(e){var c=e.name,t=e.code,r=e.mid,a=(e.currencies,Object(n.useState)(!0)),i=Object(N.a)(a,2),o=i[0],u=i[1],l=Object(s.b)();return Object(v.jsx)("div",{className:"currency-container",children:Object(v.jsxs)("div",{className:"currency-row",children:[Object(v.jsxs)("div",{className:"currency",children:[Object(v.jsx)("h2",{children:t}),Object(v.jsx)("p",{style:{textTransform:"uppercase"},children:c})]}),Object(v.jsxs)("div",{className:"currency-data",children:[Object(v.jsxs)("p",{className:"currency-mid",children:[r.toFixed(2)," PLN"]}),o?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{className:"favourite-button",onClick:function(){l(function(e,c,t){return function(){var n=Object(k.a)(C.a.mark((function n(r){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:b,payload:{name:e,code:c,mid:t}});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(c,t,r)),u(!1)},children:"Dodaj do ulubionych"}),Object(v.jsx)("span",{children:Object(v.jsx)("i",{style:{color:"#F45B69"},className:"far fa-heart"})})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{className:"favourite-button",onClick:function(){l(F(c,t,r)),u(!0)},children:"Usu\u0144 z ulubionych"}),Object(v.jsx)("span",{children:Object(v.jsx)("i",{style:{color:"#F45B69"},className:"fas fa-heart"})})]})]})]})})},T=function(){var e=Object(n.useState)(""),c=Object(N.a)(e,2),t=c[0],r=c[1],a=Object(s.b)(),i=Object(s.c)((function(e){return e.currenciesList})).currencies;Object(n.useEffect)((function(){a(function(){var e=Object(k.a)(C.a.mark((function e(c){var t,n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:l}),e.next=4,S.a.get("http://api.nbp.pl/api/exchangerates/tables/A");case 4:return t=e.sent,e.next=7,S.a.get("http://api.nbp.pl/api/exchangerates/tables/B");case 7:n=e.sent,(r=t.data[0].rates.concat(n.data[0].rates)).sort((function(e,c){return e.code<c.code?-1:e.code>c.code?1:0})),c({type:j,payload:r}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),c({type:d,payload:e.t0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(c){return e.apply(this,arguments)}}())}),[a]);var o=i.filter((function(e){return e.currency.toLowerCase().includes(t.toLocaleLowerCase())||e.code.toLowerCase().includes(t.toLocaleLowerCase())}));return Object(v.jsxs)("div",{className:"homepage-component",children:[Object(v.jsxs)("div",{className:"currency-search",children:[Object(v.jsx)("h1",{className:"currency-text",children:"Wyszukaj walut\u0119"}),Object(v.jsx)("form",{children:Object(v.jsx)("input",{type:"text",placeholder:"Szukaj",className:"currency-input",onChange:function(e){r(e.target.value)}})})]}),o.map((function(e){return Object(v.jsx)(L,{name:e.currency,code:e.code,mid:e.mid,currencies:i},e.code)}))]})},R=function(e){var c=Object(s.b)();return e.trigger?Object(v.jsx)("div",{className:"popup-container",children:Object(v.jsxs)("div",{className:"popup-inner",children:[Object(v.jsx)("p",{children:"Czy na pewno chcesz usun\u0105\u0107 wybran\u0105 walut\u0119 z ulubionych?"}),Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{className:"popup-button",onClick:function(){c(F(e.name,e.code,e.mid)),e.setTrigger(!1)},children:"Potwierd\u017a"}),Object(v.jsx)("button",{className:"popup-button",onClick:function(){return e.setTrigger(!1)},children:"Anuluj"})]}),e.children]})}):""},z=(t(70),function(e){var c=e.name,t=e.code,r=e.mid,a=Object(n.useState)(!1),s=Object(N.a)(a,2),i=s[0],o=s[1];return Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"currency-container",children:Object(v.jsxs)("div",{className:"currency-row",children:[Object(v.jsxs)("div",{className:"currency",children:[Object(v.jsx)("h2",{children:t}),Object(v.jsx)("p",{style:{textTransform:"uppercase"},children:c})]}),Object(v.jsxs)("div",{className:"currency-data",children:[Object(v.jsxs)("p",{className:"currency-mid",children:[r.toFixed(2)," PLN"]}),Object(v.jsx)("button",{className:"favourite-button",onClick:function(){return o(!0)},children:"Usu\u0144 z ulubionych"}),Object(v.jsx)(R,{trigger:i,setTrigger:o,name:c,code:t,mid:r}),Object(v.jsx)("span",{children:Object(v.jsx)("i",{style:{color:"#F45B69"},className:"fas fa-heart"})})]})]})})})}),I=function(e){var c=Object(s.b)();return e.trigger?Object(v.jsx)("div",{className:"popup-container",children:Object(v.jsxs)("div",{className:"popup-inner",children:[Object(v.jsx)("p",{children:"Czy na pewno chcesz usun\u0105\u0107 wszystkie waluty z ulubionych?"}),Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{className:"popup-button",onClick:function(){var t;c((t=e.favorites,{type:h,payload:t})),e.setTrigger(!1)},children:"Potwierd\u017a"}),e.children,Object(v.jsx)("button",{className:"popup-button",onClick:function(){return e.setTrigger(!1)},children:"Anuluj"})]})]})}):""},U=(t(71),function(){var e=Object(n.useState)(!1),c=Object(N.a)(e,2),t=c[0],r=c[1],a=Object(s.c)((function(e){return e.favorites}));return Object(v.jsx)(v.Fragment,{children:0===a.length?Object(v.jsx)("h1",{className:"favourite-component-empty-h1",children:"Brak walut w ulubionych"}):Object(v.jsxs)("div",{className:"favourite-component",children:[Object(v.jsx)("h1",{className:"favourite-component-h1",children:"Ulubione waluty u\u017cytkownika"}),a.map((function(e){return Object(v.jsx)(z,{name:e.name,code:e.code,mid:e.mid},e.code)})),Object(v.jsx)("button",{className:"favourite-component-button",onClick:function(){return r(!0)},children:"Usu\u0144 wszystkie waluty"}),Object(v.jsx)(I,{trigger:t,setTrigger:r,favorites:a})]})})});var _=function(){return Object(v.jsxs)(m.a,{children:[Object(v.jsx)(g,{}),Object(v.jsxs)("main",{children:[Object(v.jsx)(y.a,{exact:!0,path:"/",component:T}),Object(v.jsx)(y.a,{exact:!0,path:"/favorites",component:U})]})]})};a.a.render(Object(v.jsx)(s.a,{store:x,children:Object(v.jsx)(_,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.9b1d9ccf.chunk.js.map